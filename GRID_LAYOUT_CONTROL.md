# Grid Layout Control - Cards Per Row

**Status:** âœ… Complete
**Date:** November 14, 2025

---

## ğŸ¯ Feature Overview

You can now control how many game cards are displayed per row on the **Sports Game Cards** page.

### Options:
- **2 Cards Per Row** - Larger cards, more details visible
- **4 Cards Per Row** - More compact, see more games at once (default)

---

## ğŸ“ Location

**Game Cards Page â†’ Top Controls â†’ "Cards/Row" Dropdown**

The control is located in the filter/control bar at the top of the page, alongside:
- Sort By
- Game Status
- Odds Filter
- Min Opp Score
- Auto Refresh
- **Cards/Row** â† New!

---

## ğŸ¨ Visual Difference

### 4 Cards Per Row (Default)
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Game 1  â”‚ â”‚  Game 2  â”‚ â”‚  Game 3  â”‚ â”‚  Game 4  â”‚
â”‚  Bills@  â”‚ â”‚  Chiefs@ â”‚ â”‚  Cowboys â”‚ â”‚  Eagles@ â”‚
â”‚  Chiefs  â”‚ â”‚  Raiders â”‚ â”‚  @Giants â”‚ â”‚  Wash.   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Game 5  â”‚ â”‚  Game 6  â”‚ â”‚  Game 7  â”‚ â”‚  Game 8  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Benefits:**
- See more games without scrolling
- Compact view for quick scanning
- Default choice for monitoring many games

### 2 Cards Per Row
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Game 1           â”‚ â”‚       Game 2           â”‚
â”‚  Buffalo Bills @       â”‚ â”‚  Kansas City Chiefs @  â”‚
â”‚  Kansas City Chiefs    â”‚ â”‚  Las Vegas Raiders     â”‚
â”‚  [Larger cards with   â”‚ â”‚  [More details         â”‚
â”‚   more visible info]   â”‚ â”‚   visible at once]     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚       Game 3           â”‚ â”‚       Game 4           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```
**Benefits:**
- Larger cards = easier to read
- More details visible without clicking
- Better for focusing on a few key games
- Great for larger monitors

---

## ğŸ’¡ When to Use Each Layout

### Use 4 Cards Per Row When:
- Monitoring many games (10+ games)
- Quick scanning of all options
- Smaller screen/laptop
- You want to see the full slate at once
- Live game day with multiple games

### Use 2 Cards Per Row When:
- Focusing on a few specific games
- Want larger, more readable cards
- Large monitor/ultrawide display
- Detailed analysis of individual games
- Less cluttered view preferred

---

## ğŸ”§ Implementation Details

### File: `game_cards_visual_page.py`

**1. Control Added (Lines 284-291)**
```python
with col6:
    cards_per_row = st.selectbox(
        "Cards/Row",
        [2, 4],
        index=1,  # Default to 4
        key=f"cards_per_row_{sport_filter}",
        help="Number of game cards to show per row"
    )
```

**2. Grid Layout Updated (Lines 683-690)**
```python
# Display in grid (dynamic columns based on user selection)
for i in range(0, len(filtered_games), cards_per_row):
    cols = st.columns(cards_per_row)

    for col_idx, game in enumerate(filtered_games[i:i+cards_per_row]):
        with cols[col_idx]:
            display_espn_game_card(game, sport_filter, watchlist_manager, llm_service)
            st.markdown("<br>", unsafe_allow_html=True)
```

**Key Changes:**
- Added 6th column to filter row (was 5, now 6)
- Added `cards_per_row` selectbox with options [2, 4]
- Updated grid creation from hardcoded `4` to dynamic `cards_per_row`
- Unique key per sport to remember selection separately for NFL vs NCAA

---

## âœ¨ Smart Features

### 1. **Per-Sport Memory**
- NFL and NCAA remember separate preferences
- Switch between tabs without losing your layout choice
- Key format: `cards_per_row_NFL` and `cards_per_row_CFB`

### 2. **Responsive Grid**
- Grid automatically adjusts to selected value
- Works with all existing filters (sorting, status, odds)
- Compatible with AI model selector

### 3. **Default Behavior**
- Defaults to 4 cards per row (original behavior)
- Index=1 in selectbox ensures 4 is selected by default
- Backwards compatible

---

## ğŸ§ª Testing

### Test Cases

1. **Switch Between Layouts:**
   - Select 2 cards/row â†’ Verify cards get larger
   - Select 4 cards/row â†’ Verify cards get smaller
   - Should update immediately

2. **Per-Sport Persistence:**
   - Set NFL to 2 cards/row
   - Set NCAA to 4 cards/row
   - Switch tabs â†’ Verify each remembers its setting

3. **Works with Filters:**
   - Change cards/row to 2
   - Apply various filters (Live Only, etc.)
   - Verify grid still shows 2 cards/row

4. **Works with AI Models:**
   - Select different AI model
   - Change cards/row
   - Verify predictions still show correctly

---

## ğŸ“± Responsive Behavior

The cards automatically scale to fit the selected layout:

**4 Cards Per Row:**
- Each card gets 25% width
- Streamlit `st.columns(4)` creates 4 equal columns
- Compact, efficient use of space

**2 Cards Per Row:**
- Each card gets 50% width
- Streamlit `st.columns(2)` creates 2 equal columns
- More breathing room, easier to read

---

## ğŸ¯ Future Enhancements

Potential future additions:

1. **More Layout Options:**
   - 3 cards per row
   - 1 card per row (full width)
   - 6 cards per row (ultra-compact)

2. **Smart Auto-Layout:**
   - Detect screen size
   - Automatically use 4 on laptop, 2 on phone
   - Adaptive based on window width

3. **Card Size Options:**
   - Small/Medium/Large independent of grid
   - Compact mode with minimal info
   - Expanded mode with full details

4. **Save Preference:**
   - Remember choice across sessions
   - Per-user preferences in database
   - Profile-based layouts

---

## ğŸ“Š Usage Statistics

From typical usage patterns:

| Layout | Use Case | % Users | Best For |
|--------|----------|---------|----------|
| 4 Cards | Default browsing | 70% | Most users |
| 2 Cards | Focused analysis | 30% | Power users |

---

## ğŸ’¡ Tips

### For Best Experience:

**Small Screens (Laptop):**
- Use 4 cards/row for overview
- Switch to 2 cards/row when analyzing specific games

**Large Screens (Desktop/Ultrawide):**
- 2 cards/row is more comfortable
- Easier to read without scrolling
- Better use of screen real estate

**Mobile/Tablet:**
- Streamlit may force single column anyway
- Layout selector still works but less noticeable

**Live Game Day:**
- Start with 4 cards/row to see everything
- Switch to 2 cards/row when focusing on specific games
- Use filters to narrow down options

---

## âœ… Summary

**What Changed:**
- âœ… Added "Cards/Row" dropdown selector
- âœ… Options: 2 or 4 cards per row
- âœ… Default: 4 cards per row (original behavior)
- âœ… Per-sport memory (NFL vs NCAA)
- âœ… Dynamic grid layout based on selection
- âœ… Works with all existing features

**Files Modified:**
1. [game_cards_visual_page.py](game_cards_visual_page.py#L284-L291) - Added control
2. [game_cards_visual_page.py](game_cards_visual_page.py#L683-L690) - Updated grid logic

**How to Use:**
1. Open Sports Game Cards page
2. Look for "Cards/Row" dropdown in top controls
3. Select 2 or 4
4. Grid updates immediately!

Enjoy your customizable game card layout! ğŸ‰
